15
{"last_modification_time":1576206548,"language":1,"import_file":"/Users/raffonen/Documents/2019-2020 901J/src/autonomous.cpp","args":["clang++","-working-directory=/Users/raffonen/Documents/2019-2020 901J/src/","/Users/raffonen/Documents/2019-2020 901J/src/autonomous.cpp","-resource-dir=/usr/local/Cellar/llvm/6.0.1/lib/clang/6.0.1","-Wno-unknown-warning-option","-fparse-all-comments","-isystem/Library/Developer/CommandLineTools/usr/include/c++/v1","-isystem/usr/local/include","-isystem/Library/Developer/CommandLineTools/usr/lib/clang/10.0.0/include","-isystem/Library/Developer/CommandLineTools/usr/include","-isystem/usr/include","-iframework/System/Library/Frameworks","-iframework/Library/Frameworks"],"includes":[{"line":1,"resolved_path":"/Users/raffonen/Documents/2019-2020 901J/src/config.hpp"},{"line":2,"resolved_path":"/Library/Developer/CommandLineTools/usr/include/c++/v1/math.h"},{"line":3,"resolved_path":"/Library/Developer/CommandLineTools/usr/include/c++/v1/vector"},{"line":4,"resolved_path":"/Users/raffonen/Documents/2019-2020 901J/src/auton_function.h"}],"dependencies":["/Users/raffonen/Documents/2019-2020 901J/src/config.hpp"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":21,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0,1,2,3,4,5,6],"uses":[]},{"id":1,"usr":2,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[7,17,18,19,20],"uses":[]},{"id":2,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[8,9,10,11,12,13,15],"uses":[]}],"funcs":[{"id":0,"usr":6367777617846306066,"detailed_name":"void position_task(void *param)","short_name_offset":5,"short_name_size":13,"kind":12,"storage":1,"hover":"","comments":"\nnamespace WheelTracker{\nfloat wheelrad = 2.75;\n\nfloat lencval = 0;\nfloat rencval = 0;\nfloat bencval = 0;\n\nfloat prevl = 0;\nfloat prevr = 0;\nfloat prevb = 0;\nfloat thetar = 180;//constant\nfloat theta1;\nfloat theta0 = 0;\nfloat thetam;\n\nfloat rdis = 4.72440945;\nfloat ldis = 4.72440945;\nfloat bdis= 4.33070866;\n\nfloat dltheta = 0; //change in encoder angle\nfloat drtheta = 0;\nfloat dbtheta = 0;\n\nfloat dl; //change in distance\nfloat dr;\nfloat ds;\n\nfloat dtheta;\n\n\nstd::vector<float> d (3);\nstd::vector<float> dtemp (3);\nstd::vector <float> d1 (3);\n\nfloat rad;\nfloat angle;\nfloat currentl;\nfloat currentr;\nfloat currentb;\n\nstd::vector<float> track(){\n\n\n\n  currentl = LeftEncoder.get_value();\n  currentr = RightEncoder.get_value();\n  currentb = BackEncoder.get_value();\n\n  dltheta = currentl - prevl;\n  drtheta = currentr - prevr;\n  dbtheta = currentb - prevb;\n\n  //distance traveled by each wheel\n  dl = ((dltheta)/360) * 2 *M_PI * wheelrad;\n  dr = ((drtheta)/360) * 2 *M_PI * wheelrad;\n  ds = ((dbtheta)/360) * 2 *M_PI * wheelrad;\n\n  //update values\n  prevl = currentl;\n  prevr = currentr;\n  prevb = currentb;\n\n  theta1 = thetar + 180*((dl-dr)/(rdis+ldis))/M_PI;//convert angle to degrees and add to initial angle to find new angle\n\n  dtheta = theta1 - theta0; //change in angle\n\n  if(dtheta == 0.0){//if only vertical movement add vertical component dr\n\n    dtemp.at(0) = ds;\n    dtemp.at(1) = dr;\n  }else{\n    dtemp.at(0) = 2 * sin(dtheta/2) * (ds/dtheta + bdis);\n    dtemp.at(1) = 2 * sin(dtheta/2) * (dr/dtheta + rdis);\n\n\n  //calculate average orientation\n  thetam = theta0 + dtheta/2;\n\n  //convert position to polar\n  angle = atan(dtemp[1] / dtemp[0]);\n  rad = sqrt(dtemp[0] * dtemp[0] + dtemp[1] * dtemp[1]);\n\n  angle += -1 * thetam;\n\n  //convert back\n  dtemp[0] = rad * cos(angle);\n  dtemp[1] = rad * sin(angle);\n}\n  //add position vector to old one\n  for(int i = 0; i < 2; i++){\n    d1[i] = d[i] + dtemp[i];\n  }\n\n    theta0 = theta1;\n\n    d[0] = d1[0];\n    d[1] = d1[1];\n    d1[2] = theta0;\n    //return new position\n    return d1;\n  }\n\n}\n\nvoid measure_jerk(){\nfloat vel_max = 200*4/60; //inches per s\nfloat pos = 0;\nfloat d_pos;\nfloat vel;\nfloat vel_prev;\nfloat a_prev;\nfloat a;\nfloat d_a;\nfloat j_max = 5.0 ;//inch / s^3\nwhile (true){\n  d_pos = RobotPosition[0] - pos;\n\n  a += 0.01*j_max;\n  vel += a_prev*0.01;\n  pos += vel_prev*0.01;\n  vel_prev = vel;\n  a_prev = a;\n  left_wheel.move_velocity(vel);\n  right_wheel.move_velocity(vel);\n  left_chain.move_velocity(vel);\n  right_chain.move_velocity(vel);\n\n  pros::delay(10);\n}\n}\n\n*\nvoid curvyboi(){//should be task but idk how\ndouble VMAX = 200;\ndouble pl;//power\ndouble pr;//power\ndouble vl;//read from csv\ndouble vr;//read from csv\ndouble kp;//Kp\ndouble sl;//read from csv\ndouble sr;//read from csv\ndouble el;//encoder value\ndouble er;//encoder value\ndouble ktheta;//Ktheta\ndouble dtheta;//heading - gyro reading\n\ndtheta = heading - actual;//heading read from csv\n\npl = vl/VMAX + kp*(sl-el) - ktheta * dtheta;\n\npr = vr/VMAX + kp*(sr-er) + ktheta * dtheta;\n\nleft_wheel.movevelocity(VMAX*pl);\nleft_chain.movevelocity(VMAX*pl);\nright_wheel.movevelocity(pr*VMAX);\nright_chain.movevelocity(pr*VMAX);\n\n}\n/\ntest\n*\n Runs the user autonomous code. This function will be started in its own task\n with the default priority and stack size whenever the robot is enabled via\n the Field Management System or the VEX Competition Switch in the autonomous\n mode. Alternatively, this function may be called in initialize or opcontrol\n for non-competition testing purposes.\n\n If the robot is disabled or communications is lost, the autonomous task\n will be stopped. Re-enabling the robot will restart the task, not re-start it\n from where it left off.","declarations":[],"spell":"190:7-190:20|-1|1|2","extent":"190:2-208:3|-1|1|0","bases":[],"derived":[],"vars":[7],"uses":[],"callees":[]},{"id":1,"usr":8181255651670280322,"detailed_name":"void intake_task(void *param)","short_name_offset":5,"short_name_size":11,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"242:6-242:17|-1|1|2","extent":"242:1-248:2|-1|1|0","bases":[],"derived":[],"vars":[17],"uses":[],"callees":[]},{"id":2,"usr":11847539019803487732,"detailed_name":"void turn_task(void *param)","short_name_offset":5,"short_name_size":9,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"249:6-249:15|-1|1|2","extent":"249:1-255:2|-1|1|0","bases":[],"derived":[],"vars":[18],"uses":[],"callees":[]},{"id":3,"usr":9459475402061019482,"detailed_name":"void intake_task2(void *param)","short_name_offset":5,"short_name_size":12,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"256:6-256:18|-1|1|2","extent":"256:1-261:2|-1|1|0","bases":[],"derived":[],"vars":[19],"uses":[],"callees":[]},{"id":4,"usr":6104709095442169704,"detailed_name":"void deploy_task(void *param)","short_name_offset":5,"short_name_size":11,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"262:6-262:17|-1|1|2","extent":"262:1-264:2|-1|1|0","bases":[],"derived":[],"vars":[20],"uses":[],"callees":[]},{"id":5,"usr":4940742254395973410,"detailed_name":"void blue_unproc()","short_name_offset":5,"short_name_size":11,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"266:6-266:17|-1|1|2","extent":"266:1-324:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["571:12-571:23|12|3|32"],"callees":[]},{"id":6,"usr":11733046607407641193,"detailed_name":"void test()","short_name_offset":5,"short_name_size":4,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"325:6-325:10|-1|1|2","extent":"325:1-328:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["567:12-567:16|12|3|32","569:12-569:16|12|3|32","577:12-577:16|12|3|32","581:12-581:16|12|3|32","583:12-583:16|12|3|32","585:12-585:16|12|3|32"],"callees":[]},{"id":7,"usr":14075905634723300829,"detailed_name":"void skills_auton()","short_name_offset":5,"short_name_size":12,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"329:6-329:18|-1|1|2","extent":"329:1-373:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["579:12-579:24|12|3|32"],"callees":[]},{"id":8,"usr":2776496461919474763,"detailed_name":"void red_unproc()","short_name_offset":5,"short_name_size":10,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"374:6-374:16|-1|1|2","extent":"374:1-413:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["563:12-563:22|12|3|32"],"callees":[]},{"id":9,"usr":1575851869358753957,"detailed_name":"void blue_proc()","short_name_offset":5,"short_name_size":9,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"415:6-415:15|-1|1|2","extent":"415:1-464:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["573:12-573:21|12|3|32"],"callees":[]},{"id":10,"usr":4391102060737112633,"detailed_name":"void red_proc()","short_name_offset":5,"short_name_size":8,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"465:6-465:14|-1|1|2","extent":"465:1-507:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["565:12-565:20|12|3|32"],"callees":[]},{"id":11,"usr":5768639800187979450,"detailed_name":"void blue_unproc_test()","short_name_offset":5,"short_name_size":16,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"509:6-509:22|-1|1|2","extent":"509:1-558:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":["575:12-575:28|12|3|32","587:12-587:28|12|3|32"],"callees":[]},{"id":12,"usr":4746349674543882792,"detailed_name":"void autonomous()","short_name_offset":5,"short_name_size":10,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"560:6-560:16|-1|1|2","extent":"560:1-593:2|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":["563:12-563:22|8|3|32","565:12-565:20|10|3|32","567:12-567:16|6|3|32","569:12-569:16|6|3|32","571:12-571:23|5|3|32","573:12-573:21|9|3|32","575:12-575:28|11|3|32","577:12-577:16|6|3|32","579:12-579:24|7|3|32","581:12-581:16|6|3|32","583:12-583:16|6|3|32","585:12-585:16|6|3|32","587:12-587:28|11|3|32"]}],"vars":[{"id":0,"usr":16969857786910679081,"detailed_name":"const float WHEELDIAM","short_name_offset":12,"short_name_size":9,"hover":"const float WHEELDIAM = 2.75","comments":"","declarations":[],"spell":"7:13-7:22|-1|1|2","extent":"7:1-7:29|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":1,"usr":14394595209684034253,"detailed_name":"const float L_DIS_IN","short_name_offset":12,"short_name_size":8,"hover":"const float L_DIS_IN = 4.72440945","comments":"","declarations":[],"spell":"8:13-8:21|-1|1|2","extent":"8:1-8:34|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":2,"usr":14099028445324604131,"detailed_name":"const float R_DIS_IN","short_name_offset":12,"short_name_size":8,"hover":"const float R_DIS_IN = 4.72440945","comments":"","declarations":[],"spell":"9:13-9:21|-1|1|2","extent":"9:1-9:34|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":3,"usr":13528128909789469737,"detailed_name":"const float B_DIS_IN","short_name_offset":12,"short_name_size":8,"hover":"const float B_DIS_IN = 4.33070866","comments":"","declarations":[],"spell":"10:13-10:21|-1|1|2","extent":"10:1-10:34|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":4,"usr":10513280384051791130,"detailed_name":"const float TICKS_PER_ROTATION","short_name_offset":12,"short_name_size":18,"hover":"const float TICKS_PER_ROTATION =  360.0","comments":"","declarations":[],"spell":"11:13-11:31|-1|1|2","extent":"11:1-11:40|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":5,"usr":5064964414572826466,"detailed_name":"const float SPIN_TO_IN_LR","short_name_offset":12,"short_name_size":13,"hover":"","comments":"","declarations":[],"spell":"12:14-12:27|-1|1|2","extent":"12:1-12:27|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":6,"usr":10526608839383704324,"detailed_name":"const float SPIN_TO_IN_S","short_name_offset":12,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"13:14-13:26|-1|1|2","extent":"13:1-13:26|-1|1|0","type":0,"uses":[],"kind":13,"storage":1},{"id":7,"usr":1418686054400419917,"detailed_name":"void *param","short_name_offset":6,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"190:27-190:32|0|3|2","extent":"190:21-190:32|0|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":8,"usr":3054624463947265338,"detailed_name":"int chassisUtil","short_name_offset":4,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"212:11-212:22|-1|1|2","extent":"212:2-212:22|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":9,"usr":4471549613592291116,"detailed_name":"int group1","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"213:20-213:26|-1|1|2","extent":"213:2-213:26|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":10,"usr":17472436827749438105,"detailed_name":"int group2","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"214:20-214:26|-1|1|2","extent":"214:2-214:26|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":11,"usr":14095903115766967000,"detailed_name":"int scales","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"216:23-216:29|-1|1|2","extent":"216:2-216:29|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":12,"usr":8916853651471959777,"detailed_name":"int myChassis","short_name_offset":4,"short_name_size":9,"hover":"","comments":"","declarations":[],"spell":"218:29-218:38|-1|1|2","extent":"218:2-218:38|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":13,"usr":1226165206587184068,"detailed_name":"int chassisUtil2","short_name_offset":4,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"228:11-228:23|-1|1|2","extent":"228:2-228:23|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":14,"usr":17696743065261229345,"detailed_name":"auto bruh","short_name_offset":5,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"229:7-229:11|-1|1|2","extent":"229:2-229:11|-1|1|0","uses":[],"kind":13,"storage":1},{"id":15,"usr":18225780621529287423,"detailed_name":"int iderivativeFilter","short_name_offset":4,"short_name_size":17,"hover":"","comments":"","declarations":[],"spell":"231:26-231:43|-1|1|2","extent":"231:2-231:43|-1|1|0","type":2,"uses":[],"kind":13,"storage":1},{"id":16,"usr":2779213778154625444,"detailed_name":"auto profileController","short_name_offset":5,"short_name_size":17,"hover":"","comments":"","declarations":[],"spell":"233:7-233:24|-1|1|2","extent":"233:2-233:24|-1|1|0","uses":[],"kind":13,"storage":1},{"id":17,"usr":11992780251330671469,"detailed_name":"void *param","short_name_offset":6,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"242:24-242:29|1|3|2","extent":"242:18-242:29|1|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":18,"usr":13690362507931387361,"detailed_name":"void *param","short_name_offset":6,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"249:22-249:27|2|3|2","extent":"249:16-249:27|2|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":19,"usr":17975923248314162745,"detailed_name":"void *param","short_name_offset":6,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"256:25-256:30|3|3|2","extent":"256:19-256:30|3|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":20,"usr":11388004312146698650,"detailed_name":"void *param","short_name_offset":6,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"262:24-262:29|4|3|2","extent":"262:18-262:29|4|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":21,"usr":4664867892642974943,"detailed_name":"","short_name_offset":0,"short_name_size":0,"hover":"","comments":"","declarations":[],"uses":["562:8-562:21|12|3|4"],"kind":0,"storage":0}]}